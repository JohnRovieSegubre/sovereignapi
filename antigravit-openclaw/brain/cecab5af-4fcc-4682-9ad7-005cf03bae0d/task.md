# Task: Improve Riddle Segmentation and Display

- [x] Research existing rendering logic in `shorts_render.py` <!-- id: 0 -->
- [x] Create Implementation Plan <!-- id: 1 -->
    - [x] Design robust LLM-based segmentation (replacing fixed timestamps) <!-- id: 2 -->
    - [x] Design multi-LLM "Debate" rendering logic (sequencing ffmpeg filters) <!-- id: 3 -->
- [x] Add `extract_frame` to `ffmpeg_utils.py` <!-- id: 7 -->
- [x] Implement `ImageDescriber` using `open-clip-torch` (CoCa) <!-- id: 8 -->
- [x] Integrate visual captions into `riddle_segment.py` prompt <!-- id: 9 -->
- [x] Refactor `riddle_segment.py` to generate multiple persona answers <!-- id: 4 -->
- [x] Update `shorts_render.py` to handle answer sequencing and transitions <!-- id: 5 -->
- [x] Update `youtube_client.py` to fetch duration and filter (>20m) <!-- id: 11 -->
- [x] Implement `check_video_relevance` in `riddle_segment.py` <!-- id: 12 -->
- [x] Update `riddle_bot.py` to filter by duration and AI relevance <!-- id: 13 -->
- [x] Create `riddle_bot.py` entry point to run the full pipeline <!-- id: 10 -->
- [/] Verify changes
    - [x] Verify extraction with `verify_vision.py` (Mock passed)
    - [x] Verify full pipeline with `riddle_bot.py` (Mock success, Real run using user SRT)
    - [x] Real AI Verification (Done - Validated 30fps fix and full pipeline)
    - [x] Verify YouTube Channel Polling (Optimized and Verified)
- [x] Fix LLM Integration and Answer Duration
    - [x] Remove hardcoded 10s answer limit (now dynamic 5-30s)
    - [x] Remove hardcoded 10s question limit (now dynamic to answer marker)
    - [x] Add GPT4All adapter for local LLM (uses Mistral GGUF model)
    - [x] Verify personas answer riddles with real LLM (Working! Real solutions generated)
- [x] Add Persona Voiceovers
    - [x] Create `tts_engine.py` using pyttsx3 (Windows SAPI5)
    - [x] Integrate TTS into `shorts_render.py` replacing silent audio
    - [x] Verify video renders with distinct persona voices
